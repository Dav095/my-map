<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>&#1050;&#1072;&#1088;&#1090;&#1072; O2R</title>
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; font-family: Arial, sans-serif; }
    #map { width: 100%; height: 100%; }
    .balloon { padding: 10px; max-width: 300px; }
    .balloon-title { font-weight: bold; margin-bottom: 5px; color: #1a73e8; }
    .balloon-content { font-size: 14px; }
    .balloon-row { margin-bottom: 3px; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
    ymaps.ready(function() {
      const points = [{"coords":[55.814910888671875,37.45797348022461],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":604,"imei":"860103063257316","vehicleName":"Jac JS6 &#1084;613&#1084;&#1086;797","pin":"","type":"tower","gpsInView":"14","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Jac JS6 &#1084;613&#1084;&#1086;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 860103063257316</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 604 &#1084;</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 14</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.814911, 37.457973</div></div>"},{"coords":[55.6762,37.8608],"color":"islands#blueIcon","source":"&#1041;&#1083;&#1086;&#1082; O2R","imei":"860103063793062","vehicleName":"Haval Jolion Elite &#1072;721&#1086;&#1086;797","pin":"","type":"block","gpsInView":"15","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1041;&#1083;&#1086;&#1082; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Haval Jolion Elite &#1072;721&#1086;&#1086;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 860103063793062</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 15</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.676200, 37.860800</div></div>"},{"coords":[55.67506408691406,37.861480712890625],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":925,"imei":"860103063793062","vehicleName":"Haval Jolion Elite &#1072;721&#1086;&#1086;797","pin":"","type":"tower","gpsInView":"15","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Haval Jolion Elite &#1072;721&#1086;&#1086;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 860103063793062</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 925 &#1084;</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 15</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.675064, 37.861481</div></div>"},{"coords":[55.9682,37.4278],"color":"islands#blueIcon","source":"&#1041;&#1083;&#1086;&#1082; O2R","imei":"862430050902085","vehicleName":"Geely Coolray New &#1086;328&#1088;&#1082;797","pin":"","type":"block","gpsInView":"14","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1041;&#1083;&#1086;&#1082; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Geely Coolray New &#1086;328&#1088;&#1082;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 862430050902085</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 14</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.968200, 37.427800</div></div>"},{"coords":[55.84878158569336,37.41896057128906],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":554,"imei":"862430050902085","vehicleName":"Geely Coolray New &#1086;328&#1088;&#1082;797","pin":"","type":"tower","gpsInView":"14","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Geely Coolray New &#1086;328&#1088;&#1082;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 862430050902085</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 554 &#1084;</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 14</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.848782, 37.418961</div></div>"},{"coords":[47.21991729736328,39.6935920715332],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":978,"imei":"862430054354507","vehicleName":"Kia Rio &#1085;015&#1077;&#1091;797","pin":"","type":"tower","gpsInView":"9","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Kia Rio &#1085;015&#1077;&#1091;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 862430054354507</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 978 &#1084;</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 9</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 47.219917, 39.693592</div></div>"},{"coords":[55.9663,37.4259],"color":"islands#blueIcon","source":"&#1041;&#1083;&#1086;&#1082; O2R","imei":"862430055911370","vehicleName":"Jac JS6 &#1089;911&#1085;&#1085;797","pin":"","type":"block","gpsInView":"14","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1041;&#1083;&#1086;&#1082; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Jac JS6 &#1089;911&#1085;&#1085;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 862430055911370</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 14</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.966300, 37.425900</div></div>"},{"coords":[55.83641815185547,37.35452651977539],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":645,"imei":"862430055911370","vehicleName":"Jac JS6 &#1089;911&#1085;&#1085;797","pin":"","type":"tower","gpsInView":"14","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Jac JS6 &#1089;911&#1085;&#1085;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 862430055911370</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 645 &#1084;</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 14</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.836418, 37.354527</div></div>"},{"coords":[55.7206,37.2847],"color":"islands#blueIcon","source":"&#1041;&#1083;&#1086;&#1082; O2R","imei":"862430056713270","vehicleName":"Nissan Qashqai &#1090;469&#1074;&#1085;797","pin":"","type":"block","gpsInView":"15","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1041;&#1083;&#1086;&#1082; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Nissan Qashqai &#1090;469&#1074;&#1085;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 862430056713270</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 15</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.720600, 37.284700</div></div>"},{"coords":[55.80398178100586,37.402435302734375],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":636,"imei":"862430056713270","vehicleName":"Nissan Qashqai &#1090;469&#1074;&#1085;797","pin":"","type":"tower","gpsInView":"15","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Nissan Qashqai &#1090;469&#1074;&#1085;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 862430056713270</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 636 &#1084;</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 15</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.803982, 37.402435</div></div>"},{"coords":[55.7562,37.7179],"color":"islands#blueIcon","source":"&#1041;&#1083;&#1086;&#1082; O2R","imei":"866011051438497","vehicleName":"Kia Sportage &#1077;896&#1077;&#1088;797","pin":"","type":"block","gpsInView":"14","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1041;&#1083;&#1086;&#1082; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Kia Sportage &#1077;896&#1077;&#1088;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 866011051438497</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 14</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.756200, 37.717900</div></div>"},{"coords":[55.75704574584961,37.713226318359375],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":131,"imei":"866011051438497","vehicleName":"Kia Sportage &#1077;896&#1077;&#1088;797","pin":"","type":"tower","gpsInView":"14","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Kia Sportage &#1077;896&#1077;&#1088;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 866011051438497</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 131 &#1084;</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 14</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.757046, 37.713226</div></div>"},{"coords":[55.64213562011719,37.74828338623047],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":131,"imei":"866011051826600","vehicleName":"Geely Coolray &#1072;053&#1085;&#1084;797","pin":"","type":"tower","gpsInView":"19","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Geely Coolray &#1072;053&#1085;&#1084;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 866011051826600</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 131 &#1084;</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 19</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.642136, 37.748283</div></div>"},{"coords":[55.66290283203125,37.772987365722656],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":384,"imei":"866011051850972","vehicleName":"Chery Tiggo 7 Pro &#1093;961&#1085;&#1090;797","pin":"","type":"tower","gpsInView":"15","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Chery Tiggo 7 Pro &#1093;961&#1085;&#1090;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 866011051850972</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 384 &#1084;</div><div class=\"balloon-row\"><strong>&#1042;&#1080;&#1076;&#1080;&#1084;&#1099;&#1093; &#1089;&#1087;&#1091;&#1090;&#1085;&#1080;&#1082;&#1086;&#1074;:</strong> 15</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.662903, 37.772987</div></div>"},{"coords":[55.428741455078125,37.53984832763672],"color":"islands#redIcon","source":"&#1042;&#1099;&#1096;&#1082;&#1072; O2R","radius":131,"imei":"866011052115888","vehicleName":"Coolray (BelGee) &#1082;401&#1090;&#1084;797","pin":"","type":"tower","gpsInView":"","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">&#1042;&#1099;&#1096;&#1082;&#1072; O2R</div><div class=\"balloon-row\"><strong>&#1052;&#1072;&#1096;&#1080;&#1085;&#1072;:</strong> Coolray (BelGee) &#1082;401&#1090;&#1084;797</div><div class=\"balloon-row\"><strong>IMEI:</strong> 866011052115888</div><div class=\"balloon-row\"><strong>&#1058;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100;:</strong> 131 &#1084;</div><div class=\"balloon-row\"><strong>&#1050;&#1086;&#1086;&#1088;&#1076;&#1080;&#1085;&#1072;&#1090;&#1099;:</strong> 55.428741, 37.539848</div></div>"}];
      
      // &#1060;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103; &#1076;&#1083;&#1103; &#1082;&#1086;&#1088;&#1088;&#1077;&#1082;&#1090;&#1085;&#1086;&#1075;&#1086; &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1103; &#1090;&#1077;&#1082;&#1089;&#1090;&#1072;
      function decodeHtml(html) {
        const txt = document.createElement("textarea");
        txt.innerHTML = html;
        return txt.value;
      }
      
      const map = new ymaps.Map("map", {
        center: [55.751574, 37.573856],
        zoom: 10
      });
      
      if (points && points.length > 0) {
        points.forEach(function(point) {
          if (!point.coords || !Array.isArray(point.coords)) return;
          
          const placemark = new ymaps.Placemark(
            point.coords,
            {
              balloonContentHeader: '<div class="balloon-title">' + decodeHtml(point.source || '') + '</div>',
              balloonContentBody: point.balloonHtml ? decodeHtml(point.balloonHtml) : '',
              hintContent: decodeHtml(point.source || '')
            },
            {
              preset: point.color || 'islands#redIcon',
              balloonCloseButton: true,
              balloonMaxWidth: 300
            }
          );
          
          if (point.radius && point.type === "tower") {
            const circle = new ymaps.Circle([
              point.coords,
              point.radius
            ], {}, {
              fillColor: "#FF0000",
              fillOpacity: 0.1,
              strokeColor: "#FF0000",
              strokeOpacity: 0.8,
              strokeWidth: 2
            });
            map.geoObjects.add(circle);
          }
          
          map.geoObjects.add(placemark);
        });
        
        map.setBounds(map.geoObjects.getBounds(), { checkZoomRange: true });
      }
    });
  </script>
</body>
</html>