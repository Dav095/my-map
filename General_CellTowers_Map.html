<!DOCTYPE html>
 <html>
 <head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Общая карта вышек (обновлено 23.01.2026, 02:32:05)</title>
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; font-family: Arial, sans-serif; }
    #map { width: 100%; height: 100%; }
    .balloon { padding: 10px; max-width: 300px; }
    .balloon-title { font-weight: bold; margin-bottom: 5px; color: #1a73e8; }
    .balloon-row { margin-bottom: 3px; }
    .update-info {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: white;
      padding: 5px 10px;
      border-radius: 3px;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
      font-size: 12px;
      z-index: 100;
    }
    .sidebar {
      position: absolute;
      top: 50px;
      left: 10px;
      background: white;
      padding: 10px;
      border-radius: 3px;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
      z-index: 100;
      width: 200px;
    }
    .tab-list {
      list-style: none;
      padding: 0;
      display: flex;
      margin-bottom: 10px;
    }
    .tab-list li {
      margin-right: 10px;
      cursor: pointer;
      color: #1a73e8;
    }
    .filter-list {
      list-style: none;
      padding: 0;
    }
    input[type="text"] {
      width: 100%;
      padding: 5px;
      margin-bottom: 5px;
      box-sizing: border-box;
    }
    button {
      width: 100%;
      padding: 5px;
      margin-bottom: 10px;
      background: #1a73e8;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background: #0d5bcd;
    }
    #menu-button {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 100;
      background: white;
      border: none;
      font-size: 20px;
      cursor: pointer;
      padding: 5px 10px;
      border-radius: 3px;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
    }
  </style>
</head>
<body>

<!-- Записал стиль сразу в тег, так как не отображался корректно через css -->

  <button id="menu-button", style="width: 120px; height: 30px; color: black; margin-top: 31px;">≡</button>
  <div class="sidebar" id="sidebar", style="display: none; margin-top: 25px;">
    <h3>Управление картой</h3>
    <ul class="tab-list">
      <li>Вышки</li>
      <li>Блоки</li>
      <li>O2R</li>
    </ul>
    <input type="text" id="search-input" placeholder="Найти">
    <button id="search-button">Найти</button>
    <input type="text" id="add-input" placeholder="Добавить точку">
    <button id="add-button">Добавить</button>
    <ul class="filter-list">
      <li><label><input type="checkbox" id="tower-checkbox" checked> Вышки</label></li>
      <li><label><input type="checkbox" id="block-checkbox"> Координаты клиента</label></li>
      <li><label><input type="checkbox" id="o2r-checkbox" checked> O2R</label></li>
      <li><label><input type="checkbox" id="user-checkbox" checked> Ваша точка</label></li>
    </ul>
  </div>
  <div id="map"></div>
  <div class="update-info">Обновлено: 23.01.2026, 02:32:05</div>
    <script>
    ymaps.ready(function() {
      const points = [{"coords":[37.497467,55.773453],"color":"islands#redIcon","source":"Nissan Qashqai р336вк797, moscow","radius":null,"type":"yandex","vehicleName":"Nissan Qashqai р336вк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Nissan Qashqai р336вк797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Nissan Qashqai р336вк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 37.497467, 55.773453</div></div></div>"},{"coords":[37.494831,55.770138],"color":"islands#blueIcon","source":"Nissan Qashqai р336вк797, moscow","radius":null,"type":"user","vehicleName":"Nissan Qashqai р336вк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Nissan Qashqai р336вк797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Nissan Qashqai р336вк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 37.494831, 55.770138</div></div></div>"},{"coords":[59.8298,30.433254],"color":"islands#redIcon","source":"Renault Kaptur х516кр797, saint_petersburg","radius":null,"type":"yandex","vehicleName":"Renault Kaptur х516кр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Renault Kaptur х516кр797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Renault Kaptur х516кр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.829800, 30.433254</div></div></div>"},{"coords":[59.831203,30.415372],"color":"islands#blueIcon","source":"Renault Kaptur х516кр797, saint_petersburg","radius":null,"type":"user","vehicleName":"Renault Kaptur х516кр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Renault Kaptur х516кр797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Renault Kaptur х516кр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.831203, 30.415372</div></div></div>"},{"coords":[55.824253,37.342793],"color":"islands#redIcon","source":"GAC GS3 с604св797, moscow","radius":null,"type":"yandex","vehicleName":"GAC GS3 с604св797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">GAC GS3 с604св797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> GAC GS3 с604св797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.824253, 37.342793</div></div></div>"},{"coords":[55.772555,37.235592],"color":"islands#blueIcon","source":"GAC GS3 с604св797, moscow","radius":null,"type":"user","vehicleName":"GAC GS3 с604св797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">GAC GS3 с604св797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> GAC GS3 с604св797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.772555, 37.235592</div></div></div>"},{"coords":[55.527481,37.611107],"color":"islands#redIcon","source":"Chery Tiggo 7 Pro м168ом797, moscow","radius":null,"type":"yandex","vehicleName":"Chery Tiggo 7 Pro м168ом797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Tiggo 7 Pro м168ом797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Tiggo 7 Pro м168ом797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.527481, 37.611107</div></div></div>"},{"coords":[55.527711,37.620637],"color":"islands#blueIcon","source":"Chery Tiggo 7 Pro м168ом797, moscow","radius":null,"type":"user","vehicleName":"Chery Tiggo 7 Pro м168ом797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Tiggo 7 Pro м168ом797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Tiggo 7 Pro м168ом797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.527711, 37.620637</div></div></div>"},{"coords":[55.708149,37.635227],"color":"islands#redIcon","source":"Chery Arrizo 8 с604рв797, moscow","radius":null,"type":"yandex","vehicleName":"Chery Arrizo 8 с604рв797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Arrizo 8 с604рв797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Arrizo 8 с604рв797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.708149, 37.635227</div></div></div>"},{"coords":[55.711574,37.641643],"color":"islands#blueIcon","source":"Chery Arrizo 8 с604рв797, moscow","radius":null,"type":"user","vehicleName":"Chery Arrizo 8 с604рв797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Arrizo 8 с604рв797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Arrizo 8 с604рв797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.711574, 37.641643</div></div></div>"},{"coords":[55.873459,37.456158],"color":"islands#redIcon","source":"Exeed LX е898оу797, moscow","radius":null,"type":"yandex","vehicleName":"Exeed LX е898оу797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Exeed LX е898оу797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Exeed LX е898оу797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.873459, 37.456158</div></div></div>"},{"coords":[55.954664,37.422911],"color":"islands#blueIcon","source":"Exeed LX е898оу797, moscow","radius":null,"type":"user","vehicleName":"Exeed LX е898оу797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Exeed LX е898оу797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Exeed LX е898оу797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.954664, 37.422911</div></div></div>"},{"coords":[55.73291,37.461494],"color":"islands#redIcon","source":"Geely Atlas Pro т427нн797, moscow","radius":null,"type":"yandex","vehicleName":"Geely Atlas Pro т427нн797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Atlas Pro т427нн797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Atlas Pro т427нн797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.732910, 37.461494</div></div></div>"},{"coords":[55.736902,37.464841],"color":"islands#blueIcon","source":"Geely Atlas Pro т427нн797, moscow","radius":null,"type":"user","vehicleName":"Geely Atlas Pro т427нн797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Atlas Pro т427нн797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Atlas Pro т427нн797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.736902, 37.464841</div></div></div>"},{"coords":[55.761711,37.534763],"color":"islands#redIcon","source":"VW ID.6 в989он797, moscow","radius":null,"type":"yandex","vehicleName":"VW ID.6 в989он797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">VW ID.6 в989он797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> VW ID.6 в989он797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.761711, 37.534763</div></div></div>"},{"coords":[55.772555,37.235592],"color":"islands#blueIcon","source":"VW ID.6 в989он797, moscow","radius":null,"type":"user","vehicleName":"VW ID.6 в989он797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">VW ID.6 в989он797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> VW ID.6 в989он797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.772555, 37.235592</div></div></div>"},{"coords":[59.802841,30.326273],"color":"islands#redIcon","source":"Renault Kaptur к464ву797, saint_petersburg","radius":null,"type":"yandex","vehicleName":"Renault Kaptur к464ву797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Renault Kaptur к464ву797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Renault Kaptur к464ву797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.802841, 30.326273</div></div></div>"},{"coords":[59.805132,30.355568],"color":"islands#blueIcon","source":"Renault Kaptur к464ву797, saint_petersburg","radius":null,"type":"user","vehicleName":"Renault Kaptur к464ву797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Renault Kaptur к464ву797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Renault Kaptur к464ву797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.805132, 30.355568</div></div></div>"},{"coords":[60.017357,30.461338],"color":"islands#redIcon","source":"Renault Arkana о087кк797, saint_petersburg","radius":null,"type":"yandex","vehicleName":"Renault Arkana о087кк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Renault Arkana о087кк797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Renault Arkana о087кк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 60.017357, 30.461338</div></div></div>"},{"coords":[60.033299,30.459699],"color":"islands#blueIcon","source":"Renault Arkana о087кк797, saint_petersburg","radius":null,"type":"user","vehicleName":"Renault Arkana о087кк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Renault Arkana о087кк797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Renault Arkana о087кк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 60.033299, 30.459699</div></div></div>"},{"coords":[55.875683,37.324135],"color":"islands#redIcon","source":"Chery Tiggo 7 Pro т187ов797, moscow","radius":null,"type":"yandex","vehicleName":"Chery Tiggo 7 Pro т187ов797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Tiggo 7 Pro т187ов797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Tiggo 7 Pro т187ов797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.875683, 37.324135</div></div></div>"},{"coords":[55.873661,37.331182],"color":"islands#blueIcon","source":"Chery Tiggo 7 Pro т187ов797, moscow","radius":null,"type":"user","vehicleName":"Chery Tiggo 7 Pro т187ов797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Tiggo 7 Pro т187ов797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Tiggo 7 Pro т187ов797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.873661, 37.331182</div></div></div>"},{"coords":[55.759911,37.570381],"color":"islands#redIcon","source":"Coolray (BelGee) а228рх797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) а228рх797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) а228рх797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) а228рх797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.759911, 37.570381</div></div></div>"},{"coords":[55.761833,37.563988],"color":"islands#blueIcon","source":"Coolray (BelGee) а228рх797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) а228рх797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) а228рх797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) а228рх797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.761833, 37.563988</div></div></div>"},{"coords":[55.721111,37.57394],"color":"islands#redIcon","source":"Coolray (BelGee) н864рр797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) н864рр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) н864рр797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) н864рр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.721111, 37.573940</div></div></div>"},{"coords":[55.703057,37.59119],"color":"islands#blueIcon","source":"Coolray (BelGee) н864рр797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) н864рр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) н864рр797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) н864рр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.703057, 37.591190</div></div></div>"},{"coords":[55.700966,37.323135],"color":"islands#redIcon","source":"Coolray (BelGee) в429ту797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) в429ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) в429ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) в429ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.700966, 37.323135</div></div></div>"},{"coords":[55.704804,37.327551],"color":"islands#blueIcon","source":"Coolray (BelGee) в429ту797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) в429ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) в429ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) в429ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.704804, 37.327551</div></div></div>"},{"coords":[55.74807,37.981625],"color":"islands#redIcon","source":"Skoda Rapid т246му797, moscow","radius":null,"type":"yandex","vehicleName":"Skoda Rapid т246му797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Skoda Rapid т246му797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Skoda Rapid т246му797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.748070, 37.981625</div></div></div>"},{"coords":[55.7435,37.982147],"color":"islands#blueIcon","source":"Skoda Rapid т246му797, moscow","radius":null,"type":"user","vehicleName":"Skoda Rapid т246му797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Skoda Rapid т246му797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Skoda Rapid т246му797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.743500, 37.982147</div></div></div>"},{"coords":[55.785988,37.59494],"color":"islands#redIcon","source":"Coolray (BelGee) о760тм797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) о760тм797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) о760тм797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) о760тм797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.785988, 37.594940</div></div></div>"},{"coords":[55.789798,37.590969],"color":"islands#blueIcon","source":"Coolray (BelGee) о760тм797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) о760тм797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) о760тм797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) о760тм797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.789798, 37.590969</div></div></div>"},{"coords":[59.8298,30.433254],"color":"islands#redIcon","source":"Kia Sportage т293ео797, saint_petersburg","radius":null,"type":"yandex","vehicleName":"Kia Sportage т293ео797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Kia Sportage т293ео797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Kia Sportage т293ео797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.829800, 30.433254</div></div></div>"},{"coords":[59.825719,30.423633],"color":"islands#blueIcon","source":"Kia Sportage т293ео797, saint_petersburg","radius":null,"type":"user","vehicleName":"Kia Sportage т293ео797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Kia Sportage т293ео797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Kia Sportage т293ео797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.825719, 30.423633</div></div></div>"},{"coords":[55.705276,37.617462],"color":"islands#redIcon","source":"Coolray (BelGee) е429ск797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) е429ск797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) е429ск797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) е429ск797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.705276, 37.617462</div></div></div>"},{"coords":[55.696053,37.613543],"color":"islands#blueIcon","source":"Coolray (BelGee) е429ск797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) е429ск797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) е429ск797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) е429ск797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.696053, 37.613543</div></div></div>"},{"coords":[37.670338,55.712536],"color":"islands#redIcon","source":"Geely Coolray New х842та797, moscow","radius":null,"type":"yandex","vehicleName":"Geely Coolray New х842та797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Coolray New х842та797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Coolray New х842та797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 37.670338, 55.712536</div></div></div>"},{"coords":[37.660873,55.711079],"color":"islands#blueIcon","source":"Geely Coolray New х842та797, moscow","radius":null,"type":"user","vehicleName":"Geely Coolray New х842та797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Coolray New х842та797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Coolray New х842та797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 37.660873, 55.711079</div></div></div>"},{"coords":[55.759941,37.577869],"color":"islands#redIcon","source":"Jac JS6 м613мо797, moscow","radius":null,"type":"yandex","vehicleName":"Jac JS6 м613мо797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Jac JS6 м613мо797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Jac JS6 м613мо797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.759941, 37.577869</div></div></div>"},{"coords":[55.760557,37.569691],"color":"islands#blueIcon","source":"Jac JS6 м613мо797, moscow","radius":null,"type":"user","vehicleName":"Jac JS6 м613мо797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Jac JS6 м613мо797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Jac JS6 м613мо797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.760557, 37.569691</div></div></div>"},{"coords":[55.704086,37.642338],"color":"islands#redIcon","source":"Jac JS4 а627нс797, moscow","radius":null,"type":"yandex","vehicleName":"Jac JS4 а627нс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Jac JS4 а627нс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Jac JS4 а627нс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.704086, 37.642338</div></div></div>"},{"coords":[55.737662,37.537745],"color":"islands#blueIcon","source":"Jac JS4 а627нс797, moscow","radius":null,"type":"user","vehicleName":"Jac JS4 а627нс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Jac JS4 а627нс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Jac JS4 а627нс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.737662, 37.537745</div></div></div>"},{"coords":[60.040989,29.982553],"color":"islands#redIcon","source":"Coolray (BelGee) о433ср797, saint_petersburg","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) о433ср797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) о433ср797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) о433ср797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 60.040989, 29.982553</div></div></div>"},{"coords":[60.052715,30.000449],"color":"islands#blueIcon","source":"Coolray (BelGee) о433ср797, saint_petersburg","radius":null,"type":"user","vehicleName":"Coolray (BelGee) о433ср797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) о433ср797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) о433ср797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 60.052715, 30.000449</div></div></div>"},{"coords":[55.854477,37.324773],"color":"islands#redIcon","source":"Exeed LX е248он797, moscow","radius":null,"type":"yandex","vehicleName":"Exeed LX е248он797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Exeed LX е248он797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Exeed LX е248он797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.854477, 37.324773</div></div></div>"},{"coords":[37.660755,55.719532],"color":"islands#redIcon","source":"Nissan Qashqai х792кк797, moscow","radius":null,"type":"yandex","vehicleName":"Nissan Qashqai х792кк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Nissan Qashqai х792кк797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Nissan Qashqai х792кк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 37.660755, 55.719532</div></div></div>"},{"coords":[37.660755,55.721207],"color":"islands#blueIcon","source":"Nissan Qashqai х792кк797, moscow","radius":null,"type":"user","vehicleName":"Nissan Qashqai х792кк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Nissan Qashqai х792кк797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Nissan Qashqai х792кк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 37.660755, 55.721207</div></div></div>"},{"coords":[59.890949,30.562551],"color":"islands#redIcon","source":"Changan UNI-V к859ру797, saint_petersburg","radius":null,"type":"yandex","vehicleName":"Changan UNI-V к859ру797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Changan UNI-V к859ру797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Changan UNI-V к859ру797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.890949, 30.562551</div></div></div>"},{"coords":[59.803482,30.545962],"color":"islands#blueIcon","source":"Changan UNI-V к859ру797, saint_petersburg","radius":null,"type":"user","vehicleName":"Changan UNI-V к859ру797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Changan UNI-V к859ру797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Changan UNI-V к859ру797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.803482, 30.545962</div></div></div>"},{"coords":[55.772186,37.539997],"color":"islands#redIcon","source":"GAC GS3 т884то797, moscow","radius":null,"type":"yandex","vehicleName":"GAC GS3 т884то797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">GAC GS3 т884то797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> GAC GS3 т884то797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.772186, 37.539997</div></div></div>"},{"coords":[55.774423,37.533098],"color":"islands#blueIcon","source":"GAC GS3 т884то797, moscow","radius":null,"type":"user","vehicleName":"GAC GS3 т884то797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">GAC GS3 т884то797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> GAC GS3 т884то797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.774423, 37.533098</div></div></div>"},{"coords":[59.833668,30.392538],"color":"islands#redIcon","source":"GAC GS3 р115сх797, saint_petersburg","radius":null,"type":"yandex","vehicleName":"GAC GS3 р115сх797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">GAC GS3 р115сх797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> GAC GS3 р115сх797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.833668, 30.392538</div></div></div>"},{"coords":[59.835999,30.403615],"color":"islands#blueIcon","source":"GAC GS3 р115сх797, saint_petersburg","radius":null,"type":"user","vehicleName":"GAC GS3 р115сх797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">GAC GS3 р115сх797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> GAC GS3 р115сх797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.835999, 30.403615</div></div></div>"},{"coords":[55.773224,37.602688],"color":"islands#redIcon","source":"Chery Tiggo 7 Pro т226ов797, moscow","radius":null,"type":"yandex","vehicleName":"Chery Tiggo 7 Pro т226ов797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Tiggo 7 Pro т226ов797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Tiggo 7 Pro т226ов797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.773224, 37.602688</div></div></div>"},{"coords":[55.641914,37.403215],"color":"islands#blueIcon","source":"Chery Tiggo 7 Pro т226ов797, moscow","radius":null,"type":"user","vehicleName":"Chery Tiggo 7 Pro т226ов797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Tiggo 7 Pro т226ов797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Tiggo 7 Pro т226ов797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.641914, 37.403215</div></div></div>"},{"coords":[37.42178,55.83707],"color":"islands#redIcon","source":"Coolray (BelGee) в631ту797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) в631ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) в631ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) в631ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 37.421780, 55.837070</div></div></div>"},{"coords":[55.64072,37.717522],"color":"islands#redIcon","source":"Geely Coolray New х389тв797, moscow","radius":null,"type":"yandex","vehicleName":"Geely Coolray New х389тв797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Coolray New х389тв797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Coolray New х389тв797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.640720, 37.717522</div></div></div>"},{"coords":[55.635899,37.712409],"color":"islands#blueIcon","source":"Geely Coolray New х389тв797, moscow","radius":null,"type":"user","vehicleName":"Geely Coolray New х389тв797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Coolray New х389тв797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Coolray New х389тв797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.635899, 37.712409</div></div></div>"},{"coords":[55.625526,37.756287],"color":"islands#redIcon","source":"Coolray (BelGee) а129рс797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) а129рс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) а129рс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) а129рс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.625526, 37.756287</div></div></div>"},{"coords":[55.6259,37.747434],"color":"islands#blueIcon","source":"Coolray (BelGee) а129рс797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) а129рс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) а129рс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) а129рс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.625900, 37.747434</div></div></div>"},{"coords":[55.703373,37.480419],"color":"islands#redIcon","source":"Coolray (BelGee) у427то797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) у427то797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) у427то797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) у427то797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.703373, 37.480419</div></div></div>"},{"coords":[55.694113,37.482873],"color":"islands#blueIcon","source":"Coolray (BelGee) у427то797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) у427то797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) у427то797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) у427то797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.694113, 37.482873</div></div></div>"},{"coords":[55.739117,36.878296],"color":"islands#redIcon","source":"Coolray (BelGee) т529ту797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) т529ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) т529ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) т529ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.739117, 36.878296</div></div></div>"},{"coords":[55.701388,36.868056],"color":"islands#blueIcon","source":"Coolray (BelGee) т529ту797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) т529ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) т529ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) т529ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.701388, 36.868056</div></div></div>"},{"coords":[55.677387,37.617741],"color":"islands#redIcon","source":"Coolray (BelGee) о890ту797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) о890ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) о890ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) о890ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.677387, 37.617741</div></div></div>"},{"coords":[55.677066,37.608966],"color":"islands#blueIcon","source":"Coolray (BelGee) о890ту797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) о890ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) о890ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) о890ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.677066, 37.608966</div></div></div>"},{"coords":[55.73806,37.654907],"color":"islands#redIcon","source":"Coolray (BelGee) а711рр797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) а711рр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) а711рр797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) а711рр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.738060, 37.654907</div></div></div>"},{"coords":[55.746277,37.647036],"color":"islands#blueIcon","source":"Coolray (BelGee) а711рр797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) а711рр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) а711рр797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) а711рр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.746277, 37.647036</div></div></div>"},{"coords":[55.651249,37.560902],"color":"islands#redIcon","source":"Changan UNI-V о464рр797, moscow","radius":null,"type":"yandex","vehicleName":"Changan UNI-V о464рр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Changan UNI-V о464рр797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Changan UNI-V о464рр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.651249, 37.560902</div></div></div>"},{"coords":[55.652885,37.552891],"color":"islands#blueIcon","source":"Changan UNI-V о464рр797, moscow","radius":null,"type":"user","vehicleName":"Changan UNI-V о464рр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Changan UNI-V о464рр797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Changan UNI-V о464рр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.652885, 37.552891</div></div></div>"},{"coords":[59.885036,29.101166],"color":"islands#redIcon","source":"Coolray (BelGee) т171са797, saint_petersburg","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) т171са797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) т171са797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) т171са797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.885036, 29.101166</div></div></div>"},{"coords":[59.890749,29.100119],"color":"islands#blueIcon","source":"Coolray (BelGee) т171са797, saint_petersburg","radius":null,"type":"user","vehicleName":"Coolray (BelGee) т171са797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) т171са797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) т171са797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 59.890749, 29.100119</div></div></div>"},{"coords":[55.754177,37.624264],"color":"islands#redIcon","source":"Coolray (BelGee) в409ту797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) в409ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) в409ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) в409ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.754177, 37.624264</div></div></div>"},{"coords":[55.777505,37.602251],"color":"islands#blueIcon","source":"Coolray (BelGee) в409ту797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) в409ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) в409ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) в409ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.777505, 37.602251</div></div></div>"},{"coords":[55.642193,37.748901],"color":"islands#redIcon","source":"Jac JS6 о180рт797, moscow","radius":null,"type":"yandex","vehicleName":"Jac JS6 о180рт797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Jac JS6 о180рт797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Jac JS6 о180рт797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.642193, 37.748901</div></div></div>"},{"coords":[55.639749,37.7569],"color":"islands#blueIcon","source":"Jac JS6 о180рт797, moscow","radius":null,"type":"user","vehicleName":"Jac JS6 о180рт797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Jac JS6 о180рт797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Jac JS6 о180рт797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.639749, 37.756900</div></div></div>"},{"coords":[55.661613,37.584957],"color":"islands#redIcon","source":"GAC GS3 е568тр797, moscow","radius":null,"type":"yandex","vehicleName":"GAC GS3 е568тр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">GAC GS3 е568тр797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> GAC GS3 е568тр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.661613, 37.584957</div></div></div>"},{"coords":[55.65575,37.585816],"color":"islands#blueIcon","source":"GAC GS3 е568тр797, moscow","radius":null,"type":"user","vehicleName":"GAC GS3 е568тр797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">GAC GS3 е568тр797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> GAC GS3 е568тр797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.655750, 37.585816</div></div></div>"},{"coords":[55.597157,37.767467],"color":"islands#redIcon","source":"Coolray (BelGee) т363тс797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) т363тс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) т363тс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) т363тс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.597157, 37.767467</div></div></div>"},{"coords":[55.585707,37.694195],"color":"islands#blueIcon","source":"Coolray (BelGee) т363тс797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) т363тс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) т363тс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) т363тс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.585707, 37.694195</div></div></div>"},{"coords":[55.662003,37.838646],"color":"islands#redIcon","source":"Coolray (BelGee) в661рв797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) в661рв797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) в661рв797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) в661рв797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.662003, 37.838646</div></div></div>"},{"coords":[55.618074,37.86375],"color":"islands#blueIcon","source":"Coolray (BelGee) в661рв797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) в661рв797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) в661рв797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) в661рв797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.618074, 37.863750</div></div></div>"},{"coords":[55.722218,37.729721],"color":"islands#redIcon","source":"Chery Arrizo 8 с252ре797, moscow","radius":null,"type":"yandex","vehicleName":"Chery Arrizo 8 с252ре797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Arrizo 8 с252ре797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Arrizo 8 с252ре797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.722218, 37.729721</div></div></div>"},{"coords":[55.719488,37.735801],"color":"islands#blueIcon","source":"Chery Arrizo 8 с252ре797, moscow","radius":null,"type":"user","vehicleName":"Chery Arrizo 8 с252ре797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Chery Arrizo 8 с252ре797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Chery Arrizo 8 с252ре797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.719488, 37.735801</div></div></div>"},{"coords":[55.744923,37.532013],"color":"islands#redIcon","source":"Changan UNI-V к337рс797, moscow","radius":null,"type":"yandex","vehicleName":"Changan UNI-V к337рс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Changan UNI-V к337рс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Changan UNI-V к337рс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.744923, 37.532013</div></div></div>"},{"coords":[55.743409,37.531703],"color":"islands#blueIcon","source":"Changan UNI-V к337рс797, moscow","radius":null,"type":"user","vehicleName":"Changan UNI-V к337рс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Changan UNI-V к337рс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Changan UNI-V к337рс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.743409, 37.531703</div></div></div>"},{"coords":[55.665401,37.594624],"color":"islands#redIcon","source":"Nissan Qashqai т581вк797, moscow","radius":null,"type":"yandex","vehicleName":"Nissan Qashqai т581вк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Nissan Qashqai т581вк797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Nissan Qashqai т581вк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.665401, 37.594624</div></div></div>"},{"coords":[55.660596,37.589264],"color":"islands#blueIcon","source":"Nissan Qashqai т581вк797, moscow","radius":null,"type":"user","vehicleName":"Nissan Qashqai т581вк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Nissan Qashqai т581вк797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Nissan Qashqai т581вк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.660596, 37.589264</div></div></div>"},{"coords":[55.624439,37.725868],"color":"islands#redIcon","source":"Coolray (BelGee) е345тс797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) е345тс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) е345тс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) е345тс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.624439, 37.725868</div></div></div>"},{"coords":[55.625764,37.734022],"color":"islands#blueIcon","source":"Coolray (BelGee) е345тс797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) е345тс797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) е345тс797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) е345тс797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.625764, 37.734022</div></div></div>"},{"coords":[55.583763,38.205635],"color":"islands#redIcon","source":"Kia Rio X-line р356вн797, moscow","radius":null,"type":"yandex","vehicleName":"Kia Rio X-line р356вн797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Kia Rio X-line р356вн797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Kia Rio X-line р356вн797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.583763, 38.205635</div></div></div>"},{"coords":[55.581397,38.213784],"color":"islands#blueIcon","source":"Kia Rio X-line р356вн797, moscow","radius":null,"type":"user","vehicleName":"Kia Rio X-line р356вн797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Kia Rio X-line р356вн797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Kia Rio X-line р356вн797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.581397, 38.213784</div></div></div>"},{"coords":[45.040272,39.033779],"color":"islands#redIcon","source":"Haval Jolion Elite т984ка797, krasnodar","radius":null,"type":"yandex","vehicleName":"Haval Jolion Elite т984ка797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Haval Jolion Elite т984ка797, krasnodar</div><div class=\"balloon-row\"><strong>Машина:</strong> Haval Jolion Elite т984ка797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 45.040272, 39.033779</div></div></div>"},{"coords":[45.051514,39.03342],"color":"islands#blueIcon","source":"Haval Jolion Elite т984ка797, krasnodar","radius":null,"type":"user","vehicleName":"Haval Jolion Elite т984ка797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Haval Jolion Elite т984ка797, krasnodar</div><div class=\"balloon-row\"><strong>Машина:</strong> Haval Jolion Elite т984ка797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 45.051514, 39.033420</div></div></div>"},{"coords":[38.040176,55.74258],"color":"islands#redIcon","source":"Coolray (BelGee) н856со797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) н856со797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) н856со797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) н856со797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 38.040176, 55.742580</div></div></div>"},{"coords":[38.040245,55.741463],"color":"islands#blueIcon","source":"Coolray (BelGee) н856со797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) н856со797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) н856со797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) н856со797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 38.040245, 55.741463</div></div></div>"},{"coords":[55.75436,37.560963],"color":"islands#redIcon","source":"GAC GS3 е283ту797, moscow","radius":null,"type":"yandex","vehicleName":"GAC GS3 е283ту797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">GAC GS3 е283ту797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> GAC GS3 е283ту797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.754360, 37.560963</div></div></div>"},{"coords":[30.330591,60.073605],"color":"islands#redIcon","source":"Geely Emgrand 7 о174рк797, saint_petersburg","radius":null,"type":"yandex","vehicleName":"Geely Emgrand 7 о174рк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Emgrand 7 о174рк797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Emgrand 7 о174рк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 30.330591, 60.073605</div></div></div>"},{"coords":[30.329903,60.070328],"color":"islands#blueIcon","source":"Geely Emgrand 7 о174рк797, saint_petersburg","radius":null,"type":"user","vehicleName":"Geely Emgrand 7 о174рк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Emgrand 7 о174рк797, saint_petersburg</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Emgrand 7 о174рк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 30.329903, 60.070328</div></div></div>"},{"coords":[55.678173,37.65266],"color":"islands#redIcon","source":"Haval H3 н023тв797, moscow","radius":null,"type":"yandex","vehicleName":"Haval H3 н023тв797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Haval H3 н023тв797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Haval H3 н023тв797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.678173, 37.652660</div></div></div>"},{"coords":[55.672343,37.651671],"color":"islands#blueIcon","source":"Haval H3 н023тв797, moscow","radius":null,"type":"user","vehicleName":"Haval H3 н023тв797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Haval H3 н023тв797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Haval H3 н023тв797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.672343, 37.651671</div></div></div>"},{"coords":[55.714329,37.56813],"color":"islands#redIcon","source":"Coolray (BelGee) т570тк797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) т570тк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) т570тк797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) т570тк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.714329, 37.568130</div></div></div>"},{"coords":[55.713229,37.5689],"color":"islands#blueIcon","source":"Coolray (BelGee) т570тк797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) т570тк797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) т570тк797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) т570тк797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.713229, 37.568900</div></div></div>"},{"coords":[55.758263,37.557076],"color":"islands#redIcon","source":"Coolray (BelGee) е078то797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) е078то797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) е078то797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) е078то797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.758263, 37.557076</div></div></div>"},{"coords":[55.746007,37.562734],"color":"islands#blueIcon","source":"Coolray (BelGee) е078то797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) е078то797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) е078то797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) е078то797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.746007, 37.562734</div></div></div>"},{"coords":[55.703579,37.639965],"color":"islands#redIcon","source":"Geely Atlas Pro т153нт797, moscow","radius":null,"type":"yandex","vehicleName":"Geely Atlas Pro т153нт797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Atlas Pro т153нт797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Atlas Pro т153нт797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.703579, 37.639965</div></div></div>"},{"coords":[55.714318,37.627303],"color":"islands#blueIcon","source":"Geely Atlas Pro т153нт797, moscow","radius":null,"type":"user","vehicleName":"Geely Atlas Pro т153нт797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Geely Atlas Pro т153нт797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Geely Atlas Pro т153нт797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.714318, 37.627303</div></div></div>"},{"coords":[55.899315,37.408432],"color":"islands#redIcon","source":"Changan UNI-V е034ро797, moscow","radius":null,"type":"yandex","vehicleName":"Changan UNI-V е034ро797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Changan UNI-V е034ро797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Changan UNI-V е034ро797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.899315, 37.408432</div></div></div>"},{"coords":[55.591186,37.427296],"color":"islands#blueIcon","source":"Changan UNI-V е034ро797, moscow","radius":null,"type":"user","vehicleName":"Changan UNI-V е034ро797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Changan UNI-V е034ро797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Changan UNI-V е034ро797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.591186, 37.427296</div></div></div>"},{"coords":[55.691566,37.683739],"color":"islands#redIcon","source":"Coolray (BelGee) е033тн797, moscow","radius":null,"type":"yandex","vehicleName":"Coolray (BelGee) е033тн797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) е033тн797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) е033тн797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.691566, 37.683739</div></div></div>"},{"coords":[55.691026,37.691216],"color":"islands#blueIcon","source":"Coolray (BelGee) е033тн797, moscow","radius":null,"type":"user","vehicleName":"Coolray (BelGee) е033тн797","balloonHtml":"<div class=\"balloon\"><div class=\"balloon-title\">Coolray (BelGee) е033тн797, moscow</div><div class=\"balloon-row\"><strong>Машина:</strong> Coolray (BelGee) е033тн797</div><div class=\"balloon-row\"><strong>Координаты:</strong> 55.691026, 37.691216</div></div></div>"}];

        function decodeHtml(html) {
        const txt = document.createElement("textarea");
        txt.innerHTML = html;
        return txt.value;
      }
      
      const map = new ymaps.Map("map", {
        center: [55.751574, 37.573856],
        zoom: 10
      });
      
      const towerClusterer = new ymaps.Clusterer({preset: 'islands#redClusterIcons'});
      const towerCircles = new ymaps.GeoObjectCollection();
      const blockClusterer = new ymaps.Clusterer({preset: 'islands#blueClusterIcons'});
      const o2rClusterer = new ymaps.Clusterer({preset: 'islands#violetClusterIcons'});
      const userCollection = new ymaps.GeoObjectCollection();

      const circleStorage = new Map();
      const circleVisibilityState = new Map();

      console.log('=== ДЕБАГГИНГ ===');
      console.log('Всего точек:', points.length);

      function toggleCircle(coordsKey, show = true) {
        const circle = circleStorage.get(coordsKey);
        if (circle) {
          if (show) {
            map.geoObjects.add(circle);
          } else {
            map.geoObjects.remove(circle);
          }
        }
      }
      
      if (points && points.length > 0) {
        points.forEach(function(point) {
          if (!point.coords || !Array.isArray(point.coords)) return;

          if (point.radius && point.type.includes("yandex")) {
            const circle = new ymaps.Circle([

              point.coords,
              point.radius

            ], {}, {
              fillColor: "#FF0000",
              fillOpacity: 0.1,
              strokeColor: "#FF0000",
              strokeOpacity: 0.8,
              strokeWidth: 2
            });

            const coordsKey = point.coords.join(',');
            circleStorage.set(coordsKey, circle);
          }
          

          const placemark = new ymaps.Placemark(
            point.coords,
            {
              balloonContentHeader: '<div class="balloon-title">' + decodeHtml(point.source || '') + '</div>',
              balloonContentBody: point.balloonHtml ? decodeHtml(point.balloonHtml) : '',
              hintContent: decodeHtml(point.source || '')
            },
            {
              preset: point.type === 'user' ? 'islands#blueIcon' : 'islands#redCircleIcon',
              balloonCloseButton: true,
              balloonMaxWidth: 300
            }
          );

          let collection;
          if (point.type === 'yandex') {
            collection = towerClusterer;
          } else if (point.type === 'user') {
            collection = blockClusterer;
          } else {
            collection = o2rClusterer;
          }
          collection.add(placemark);
        });
        
        map.geoObjects.add(towerClusterer);
        map.geoObjects.add(o2rClusterer);
        map.geoObjects.add(userCollection);
        
        map.setBounds(map.geoObjects.getBounds(), { checkZoomRange: true });
      }
      
      document.addEventListener('click', function(e) {
        if (e.target.classList.contains('radius-toggle-btn')) {
          e.preventDefault();
          e.stopPropagation();

          const coordsStr = e.target.getAttribute('data-coords');
          const action = e.target.getAttribute('data-action');

          const circle = circleStorage.get(coordsStr);

          if (circle) {
            if (action === 'show') {
              map.geoObjects.add(circle);
              e.target.textContent = 'Скрыть радиус';
              e.target.setAttribute('data-action', 'hide');
              e.target.style.background = '#ff4444';
              circleVisibilityState.set(coordsStr, true);
            } else {
              map.geoObjects.remove(circle);
              e.target.textContent = 'Показать радиус';
              e.target.setAttribute('data-action', 'show');
              e.target.style.background = '#1a73e8';
              circleVisibilityState.set(coordsStr, false);
            }
            updateAllButtonsForCoords(coordsStr);
          }
        }
      });

      function updateAllButtonsForCoords(coordsStr) {
        const buttons = document.querySelectorAll('.radius-toggle-btn');
        const isVisible = circleVisibilityState.get(coordsStr) || false;
    
        buttons.forEach(button => {
          if (button.getAttribute('data-coords') === coordsStr) {
            if (isVisible) {
              button.textContent = 'Скрыть радиус';
              button.setAttribute('data-action', 'hide');
              button.style.background = '#ff4444';
            } else {
              button.textContent = 'Показать радиус';
              button.setAttribute('data-action', 'show');
              button.style.background = '#1a73e8';
            }
          }
        });
      }

      map.geoObjects.events.add('balloonopen', function(e) {
        setTimeout(function() {
          const balloon = document.querySelector('.ymaps-balloon');
          if (balloon) {
            const buttons = balloon.querySelectorAll('.radius-toggle-btn');
            buttons.forEach(button => {
              const coordsStr = button.getAttribute('data-coords');
              const isVisible = circleVisibilityState.get(coordsStr) || false;
              
              if (isVisible) {
                button.textContent = 'Скрыть радиус';
                button.setAttribute('data-action', 'hide');
                button.style.background = '#ff4444';
              }
              // Если не видим, оставляем исходное состояние "Показать радиус"
            });
          }
        }, 50);
      }); 
      

      document.getElementById('tower-checkbox').addEventListener('change', function(e) {
        if (e.target.checked) {
          map.geoObjects.add(towerClusterer);
        } else {
          map.geoObjects.remove(towerClusterer);
          circleStorage.forEach((circle, coordsKey) => {
            map.geoObjects.remove(circle);
            circleVisibilityState.set(coordsKey, false);
          });
        }
      });
      
      document.getElementById('block-checkbox').addEventListener('change', function(e) {
        if (e.target.checked) {
          map.geoObjects.add(blockClusterer);
        } else {
          map.geoObjects.remove(blockClusterer);
        }
      });
      
      document.getElementById('o2r-checkbox').addEventListener('change', function(e) {
        if (e.target.checked) {
          map.geoObjects.add(o2rClusterer);
        } else {
          map.geoObjects.remove(o2rClusterer);
        }
      });
      
      document.getElementById('user-checkbox').addEventListener('change', function(e) {
        if (e.target.checked) {
          map.geoObjects.add(userCollection);
        } else {
          map.geoObjects.remove(userCollection);
        }
      });
      
      document.getElementById('search-button').addEventListener('click', function() {
        const address = document.getElementById('search-input').value.trim();
        if (!address) return;
        ymaps.geocode(address, { results: 1 }).then(function(res) {
          const first = res.geoObjects.get(0);
          if (first) {
            map.setCenter(first.geometry.getCoordinates(), 15);
          }
        });
      });
      
      document.getElementById('add-button').addEventListener('click', function() {
        const input = document.getElementById('add-input').value.trim();
        if (!input) return;
        const match = input.match(/([\d.]+)\s*,\s*([\d.]+)/);
        if (match) {
          const lat = parseFloat(match[1]);
          const lon = parseFloat(match[2]);
          addUserPoint([lat, lon], 'Ваша точка');
        } else {
          ymaps.geocode(input, { results: 1 }).then(function(res) {
            const first = res.geoObjects.get(0);
            if (first) {
              const coords = first.geometry.getCoordinates();
              addUserPoint(coords, first.getAddressLine());
            }
          });
        }
      });
      
      function addUserPoint(coords, source) {
        const placemark = new ymaps.Placemark(coords, {
          balloonContentHeader: source,
          balloonContentBody: `Координаты: ${coords[0].toFixed(6)}, ${coords[1].toFixed(6)}`,
          hintContent: source
        }, {
          preset: 'islands#blueIcon'
        });
        userCollection.add(placemark);
        map.setCenter(coords, 15);
        if (!document.getElementById('user-checkbox').checked) {
          document.getElementById('user-checkbox').checked = true;
          map.geoObjects.add(userCollection);
        }
      }
      
      const sidebar = document.getElementById('sidebar');
      sidebar.style.display = 'none';
      document.getElementById('menu-button').addEventListener('click', function() {
        sidebar.style.display = sidebar.style.display === 'none' ? 'block' : 'none';
      });

      function initBalloonObserver() {
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.addedNodes.length) {
              mutation.addedNodes.forEach(function(node) {
                if (node.nodeType === 1) {
                  const buttons = node.querySelectorAll ? node.querySelectorAll('.radius-toggle-btn') : [];
                  buttons.forEach(button => {
                    const coordsStr = button.getAttribute('data-coords');
                    const isVisible = circleVisibilityState.get(coordsStr) || false;
                    
                    console.log('Наблюдатель: найдена кнопка', coordsStr, 'видим:', isVisible);
                    
                    if (isVisible) {
                      button.textContent = 'Скрыть радиус';
                      button.setAttribute('data-action', 'hide');
                      button.style.background = '#ff4444';
                    }
                  });
                }
              });
            }
          });
        });

        observer.observe(document.body, {
          childList: true,
          subtree: true
        });
      }

      setTimeout(initBalloonObserver, 1000);
    });
  </script>
</body>
</html>