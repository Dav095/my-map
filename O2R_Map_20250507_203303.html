<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>????? O2R</title>
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; }
    #map { width: 100%; height: 100%; }
    .balloon { font-family: Arial, sans-serif; padding: 10px; max-width: 300px; }
    .balloon-title { font-weight: bold; margin-bottom: 5px; color: #1a73e8; }
    .balloon-content { font-size: 14px; }
    .balloon-row { margin-bottom: 3px; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
    ymaps.ready(initMap);
    
    function initMap() {
      const points = [{"coords":[55.75252151489258,37.66511535644531],"color":"islands#redIcon","source":"????? O2R","radius":762,"imei":860103062897377,"vehicleName":"Nissan Qashqai ?961??797","vehicleNumber":"device(imei 862430054352519, pin \"23234545\")","type":"tower"},{"coords":[55.9805,37.4266],"color":"islands#blueIcon","source":"???? O2R","imei":860103062903571,"vehicleName":"Chery Arrizo 8 ?050??797","vehicleNumber":"device(imei 866011051426849, pin \"45452323\")","type":"block"},{"coords":[55.83660888671875,37.346412658691406],"color":"islands#redIcon","source":"????? O2R","radius":1552,"imei":860103062903571,"vehicleName":"Chery Arrizo 8 ?050??797","vehicleNumber":"device(imei 866011051426849, pin \"45452323\")","type":"tower"},{"coords":[55.6576,37.208],"color":"islands#blueIcon","source":"???? O2R","imei":860103063060082,"vehicleName":"Chery Tiggo 7 Pro ?436??797","vehicleNumber":"device(imei 860103063340658, pin \"90907878\")","type":"block"},{"coords":[55.660301208496094,37.2093620300293],"color":"islands#redIcon","source":"????? O2R","radius":768,"imei":860103063060082,"vehicleName":"Chery Tiggo 7 Pro ?436??797","vehicleNumber":"device(imei 860103063340658, pin \"90907878\")","type":"tower"},{"coords":[55.7054,37.9625],"color":"islands#blueIcon","source":"???? O2R","imei":860103063104161,"vehicleName":"Chery Tiggo 7 Pro ?890??797","vehicleNumber":"device(imei 860103063410923, pin \"90907878\")","type":"block"},{"coords":[55.71001434326172,37.96242141723633],"color":"islands#redIcon","source":"????? O2R","radius":896,"imei":860103063104161,"vehicleName":"Chery Tiggo 7 Pro ?890??797","vehicleNumber":"device(imei 860103063410923, pin \"90907878\")","type":"tower"},{"coords":[55.9807,37.4247],"color":"islands#blueIcon","source":"???? O2R","imei":860103063426473,"vehicleName":"Kia Soul ?868??797","vehicleNumber":"device(imei 862430054305046, pin \"23234545\")","type":"block"},{"coords":[55.788082122802734,37.492774963378906],"color":"islands#redIcon","source":"????? O2R","radius":535,"imei":860103063426473,"vehicleName":"Kia Soul ?868??797","vehicleNumber":"device(imei 862430054305046, pin \"23234545\")","type":"tower"},{"coords":[55.770957946777344,37.543304443359375],"color":"islands#redIcon","source":"????? O2R","radius":679,"imei":860103063739057,"vehicleName":"Coolray (BelGee) ?727??797","vehicleNumber":"device(imei 866011051406197, pin \"45452323\")","type":"tower"},{"coords":[55.7494,37.643],"color":"islands#blueIcon","source":"???? O2R","imei":860103063792510,"vehicleName":"Chery Tiggo 7 Pro ?152??797","vehicleNumber":"device(imei 866897054153111, pin \"23234545\")","type":"block"},{"coords":[55.786033630371094,37.663143157958984],"color":"islands#redIcon","source":"????? O2R","radius":914,"imei":860103063792510,"vehicleName":"Chery Tiggo 7 Pro ?152??797","vehicleNumber":"device(imei 866897054153111, pin \"23234545\")","type":"tower"},{"coords":[55.674842834472656,37.61054611206055],"color":"islands#redIcon","source":"????? O2R","radius":1015,"imei":862430050205349,"vehicleName":"Renault Arkana ?622??797","vehicleNumber":"device(imei 862430054353855, pin \"23234545\")","type":"tower"},{"coords":[47.31682586669922,39.68297576904297],"color":"islands#redIcon","source":"????? O2R","radius":958,"imei":862430050208947,"vehicleName":"Changan UNI-V ?292??797","vehicleNumber":"device(imei 866011051894111, pin \"45452323\")","type":"tower"},{"coords":[55.9801,37.4247],"color":"islands#blueIcon","source":"???? O2R","imei":862430050893953,"vehicleName":"Coolray (BelGee) ?376??797","vehicleNumber":"device(imei 866011051956324, pin \"45452323\")","type":"block"},{"coords":[55.83464813232422,37.458675384521484],"color":"islands#redIcon","source":"????? O2R","radius":894,"imei":862430050893953,"vehicleName":"Coolray (BelGee) ?376??797","vehicleNumber":"device(imei 866011051956324, pin \"45452323\")","type":"tower"},{"coords":[56.330570220947266,43.9055290222168],"color":"islands#redIcon","source":"????? O2R","radius":1502,"imei":862430050905468,"vehicleName":"Nissan Qashqai ?469??797","vehicleNumber":"device(imei 862430054350182, pin \"23234545\")","type":"tower"},{"coords":[55.659515380859375,37.78966522216797],"color":"islands#redIcon","source":"????? O2R","radius":1574,"imei":862430054307273,"vehicleName":"Jac JS4 ?013??797","vehicleNumber":"device(imei 866897056030952, pin \"23234545\")","type":"tower"},{"coords":[55.685054779052734,37.292686462402344],"color":"islands#redIcon","source":"????? O2R","radius":794,"imei":862430054353376,"vehicleName":"Kia Rio ?024??797","vehicleNumber":"device(imei 864626047756751, pin \"2014\")","type":"tower"},{"coords":[55.817203521728516,37.37118911743164],"color":"islands#redIcon","source":"????? O2R","radius":675,"imei":862430054355660,"vehicleName":"Geely Coolray ?526??797","vehicleNumber":"device(imei 862430054378092, pin \"23234545\")","type":"tower"},{"coords":[55.80712127685547,37.747501373291016],"color":"islands#redIcon","source":"????? O2R","radius":1145,"imei":862430054364613,"vehicleName":"Kia Sportage ?896??797","vehicleNumber":"device(imei 864626047746299, pin \"2014\")","type":"tower"},{"coords":[55.91253662109375,37.780094146728516],"color":"islands#redIcon","source":"????? O2R","radius":918,"imei":862430056670439,"vehicleName":"Chery Tiggo 7 Pro ?961??797","vehicleNumber":"device(imei 866897054213626, pin \"23234545\")","type":"tower"},{"coords":[55.83453369140625,37.30857849121094],"color":"islands#redIcon","source":"????? O2R","radius":809,"imei":862430056686328,"vehicleName":"Kia Rio ?296??797","vehicleNumber":"device(imei 864626045104160, pin \"2014\")","type":"tower"},{"coords":[55.4742,37.7034],"color":"islands#blueIcon","source":"???? O2R","imei":862430056699461,"vehicleName":"Changan UNI-V ?466??797","vehicleNumber":"device(imei 866011051837151, pin \"45452323\")","type":"block"},{"coords":[55.47284698486328,37.70317077636719],"color":"islands#redIcon","source":"????? O2R","radius":568,"imei":862430056699461,"vehicleName":"Changan UNI-V ?466??797","vehicleNumber":"device(imei 866011051837151, pin \"45452323\")","type":"tower"},{"coords":[55.59806823730469,37.62339401245117],"color":"islands#redIcon","source":"????? O2R","radius":975,"imei":862430056710102,"vehicleName":"Geely Coolray ?114??797","vehicleNumber":"device(imei 862430056028505, pin \"23234545\")","type":"tower"},{"coords":[55.72468948364258,37.568355560302734],"color":"islands#redIcon","source":"????? O2R","radius":755,"imei":862843046791927,"vehicleName":"Kia Rio ?968??797","vehicleNumber":"device(imei 862843046833141, pin \"1918\")","type":"tower"},{"coords":[47.25590515136719,39.712581634521484],"color":"islands#redIcon","source":"????? O2R","radius":707,"imei":864626045082721,"vehicleName":"Coolray (BelGee) ?631??797","vehicleNumber":"device(imei 866011051806941, pin \"45452323\")","type":"tower"},{"coords":[55.63920974731445,37.75897979736328],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051424505,"vehicleName":"Haval Jolion Elite ?981??797","vehicleNumber":"device(imei 862430054364324, pin \"23234545\")","type":"tower"},{"coords":[55.774864196777344,37.544898986816406],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051438364,"vehicleName":"Chery Tiggo 7 Pro ?443??797","vehicleNumber":"device(imei 860103063609649, pin \"90907878\")","type":"tower"},{"coords":[55.8137,37.7463],"color":"islands#blueIcon","source":"???? O2R","imei":866011051451789,"vehicleName":"Coolray (BelGee) ?899??797","vehicleNumber":"device(imei 860103062915229, pin \"90907878\")","type":"block"},{"coords":[55.818790435791016,37.7591667175293],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051451789,"vehicleName":"Coolray (BelGee) ?899??797","vehicleNumber":"device(imei 860103062915229, pin \"90907878\")","type":"tower"},{"coords":[55.7918586730957,37.522743225097656],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051460517,"vehicleName":"Kia Rio ?315??797","vehicleNumber":"device(imei 864626045105324, pin \"2014\")","type":"tower"},{"coords":[55.80247116088867,37.59564971923828],"color":"islands#redIcon","source":"????? O2R","radius":268,"imei":866011051460749,"vehicleName":"Exeed LX ?202??797","vehicleNumber":"device(imei 866897052362508, pin \"23234545\")","type":"tower"},{"coords":[55.8432,37.5835],"color":"islands#blueIcon","source":"???? O2R","imei":866011051464477,"vehicleName":"Haval Jolion Elite ?149??797","vehicleNumber":"device(imei 861100067932174, pin \"90907878\")","type":"block"},{"coords":[55.84185791015625,37.58235168457031],"color":"islands#redIcon","source":"????? O2R","radius":387,"imei":866011051464477,"vehicleName":"Haval Jolion Elite ?149??797","vehicleNumber":"device(imei 861100067932174, pin \"90907878\")","type":"tower"},{"coords":[55.77610397338867,37.5331916809082],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051465169,"vehicleName":"Chery Arrizo 8 ?967??797","vehicleNumber":"device(imei 866011051378610, pin \"45452323\")","type":"tower"},{"coords":[55.5206,37.6408],"color":"islands#blueIcon","source":"???? O2R","imei":866011051465433,"vehicleName":"Geely Atlas Pro ?182??797","vehicleNumber":"device(imei 861100067884813, pin \"90907878\")","type":"block"},{"coords":[55.53866958618164,37.617801666259766],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051465433,"vehicleName":"Geely Atlas Pro ?182??797","vehicleNumber":"device(imei 861100067884813, pin \"90907878\")","type":"tower"},{"coords":[55.98130416870117,37.408447265625],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051808327,"vehicleName":"Jac JS6 ?288??797","vehicleNumber":"device(imei 862430056046127, pin \"23234545\")","type":"tower"},{"coords":[55.79495620727539,37.5256233215332],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051850238,"vehicleName":"Geely Coolray New ?547??797","vehicleNumber":"device(imei 866011051902187, pin \"45452323\")","type":"tower"},{"coords":[55.804935455322266,37.504722595214844],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051896744,"vehicleName":"Kia Rio ?467??797","vehicleNumber":"device(imei 864626045086342, pin \"2014\")","type":"tower"},{"coords":[55.70090103149414,37.49831008911133],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011051918159,"vehicleName":"Chery Tiggo 7 Pro ?049??797","vehicleNumber":"device(imei 860103063410543, pin \"90907878\")","type":"tower"},{"coords":[55.5243,37.6265],"color":"islands#blueIcon","source":"???? O2R","imei":866011052023256,"vehicleName":"Chery Tiggo 7 Pro ?940??797","vehicleNumber":"device(imei 860103062902243, pin \"90907878\")","type":"block"},{"coords":[55.52584457397461,37.59361267089844],"color":"islands#redIcon","source":"????? O2R","radius":131,"imei":866011052023256,"vehicleName":"Chery Tiggo 7 Pro ?940??797","vehicleNumber":"device(imei 860103062902243, pin \"90907878\")","type":"tower"},{"coords":[55.75909423828125,37.64157485961914],"color":"islands#redIcon","source":"????? O2R","radius":494,"imei":866897052340223,"vehicleName":"Exeed LX ?601??797","vehicleNumber":"device(imei 861100067907994, pin \"90907878\")","type":"tower"},{"coords":[55.6768,37.7008],"color":"islands#blueIcon","source":"???? O2R","imei":866897054228715,"vehicleName":"Changan CS55 Plus ?044??797","vehicleNumber":"device(imei 860103063274527, pin \"90907878\")","type":"block"},{"coords":[55.67864227294922,37.691307067871094],"color":"islands#redIcon","source":"????? O2R","radius":724,"imei":866897054228715,"vehicleName":"Changan CS55 Plus ?044??797","vehicleNumber":"device(imei 860103063274527, pin \"90907878\")","type":"tower"},{"coords":[59.540992736816406,30.876140594482422],"color":"islands#redIcon","source":"????? O2R","radius":856,"imei":866897056034434,"vehicleName":"Chery Tiggo 7 Pro ?201??797","vehicleNumber":"device(imei 860103063794540, pin \"90907878\")","type":"tower"},{"coords":[55.91413116455078,37.84501647949219],"color":"islands#redIcon","source":"????? O2R","radius":1202,"imei":866897056059647,"vehicleName":"Geely Coolray ?518??797","vehicleNumber":"device(imei 862430054378183, pin \"23234545\")","type":"tower"},{"coords":[55.9797,37.4264],"color":"islands#blueIcon","source":"???? O2R","imei":869627030156533,"vehicleName":"Chery Tiggo 7 Pro ?134??797","vehicleNumber":"device(imei 862430050908082, pin \"23234545\")","type":"block"},{"coords":[55.82767105102539,37.42493438720703],"color":"islands#redIcon","source":"????? O2R","radius":792,"imei":869627030156533,"vehicleName":"Chery Tiggo 7 Pro ?134??797","vehicleNumber":"device(imei 862430050908082, pin \"23234545\")","type":"tower"},{"coords":[60.01974105834961,30.265668869018555],"color":"islands#redIcon","source":"????? O2R","radius":1284,"imei":869696045843013,"vehicleName":"Changan UNI-S ?811??797","vehicleNumber":"device(imei 866011051841500, pin \"45452323\")","type":"tower"}];
      const map = new ymaps.Map("map", {
        center: [55.751574, 37.573856],
        zoom: 10
      });
      
      points.forEach(point => {
        const placemark = new ymaps.Placemark(
          point.coords,
          {
            balloonContentHeader: '<div class="balloon-title">' + point.source + '</div>',
            balloonContentBody: `
              <div class="balloon">
                ${point.vehicleName ? '<div class="balloon-row"><strong>??????:</strong> ' + point.vehicleName + '</div>' : ''}
                ${point.vehicleNumber ? '<div class="balloon-row"><strong>?????:</strong> ' + point.vehicleNumber + '</div>' : ''}
                ${point.imei ? '<div class="balloon-row"><strong>IMEI:</strong> ' + point.imei + '</div>' : ''}
                ${point.radius ? '<div class="balloon-row"><strong>????????:</strong> ' + point.radius + ' ?</div>' : ''}
                <div class="balloon-row"><strong>??????????:</strong> ${point.coords[0].toFixed(6)}, ${point.coords[1].toFixed(6)}</div>
              </div>
            `,
            hintContent: point.source
          },
          {
            preset: point.color,
            balloonCloseButton: true,
            balloonMaxWidth: 300
          }
        );
        
        if (point.radius && point.type === "tower") {
          const circle = new ymaps.Circle([
            point.coords,
            point.radius
          ], {}, {
            fillColor: "#FF0000",
            fillOpacity: 0.1,
            strokeColor: "#FF0000",
            strokeOpacity: 0.8,
            strokeWidth: 2
          });
          map.geoObjects.add(circle);
        }
        
        map.geoObjects.add(placemark);
      });
      
      if (points.length > 0) {
        map.setBounds(map.geoObjects.getBounds(), { checkZoomRange: true });
      }
    }
  </script>
</body>
</html>